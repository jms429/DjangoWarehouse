{% extends 'employees/base.html' %}

{% load static %}

{% block content %}

{% load static %} 
    <div class="container">
        {% if employees %}
            {% for employee in employees %}
                    <div class="box-card">
                        <div class="charts">
                            <h2 class="machine_title">{{ employee.full_name }}</h2>
                            <canvas id="{{ forloop.counter }}" width="100" height="100"></canvas>
                        </div>    
                    </div>
                    <script>
                    var ctx = document.getElementById('{{ forloop.counter }}').getContext('2d');
                    var chart = new Chart(ctx, {
                        // The type of chart we want to create
                        type: 'horizontalBar',
                        // The data for our dataset
                        data: {
                            labels: ['machine 1', 'Machine 2', 'Machine 3', 'Machine 4', 'Machine 5'],
                            datasets: [{
                                label: 'Skill level',
                                backgroundColor: ['#594157', '#726DA8', '#7D8CC4', '#A0D2DB', '#BEE7E8'],
                                borderColor: 'rgb(255, 99, 132)',
                                data: [ '{{employee.machine_1}}' , '{{employee.machine_2}}', '{{employee.machine_3}}', '{{employee.machine_4}}', '{{employee.machine_5}}']
                            }]
                        },
                        // Configuration options go here
                        options: {
                            scales: {
                                xAxes: [{
                                    ticks: {
                                        beginAtZero: true
                                    }
                                }]
                            }
                        }
                    });
                    
                    </script>
                

            {% endfor %}
        {% endif %}
    </div>
{% endblock %}